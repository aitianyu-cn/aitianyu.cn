"use strict";(self.webpackChunkaitianyu_cn=self.webpackChunkaitianyu_cn||[]).push([[154],{1121:function(e,t,n){n.d(t,{O:function(){return o}});n(3288),n(6099),n(7495),n(8781),n(5440),n(5071);function o(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}},4224:function(e,t,n){n.d(t,{QA:function(){return w},VP:function(){return x},su:function(){return O}});n(2675),n(9463),n(2259),n(5700),n(8706),n(3792),n(9572),n(3288),n(4170),n(2892),n(9904),n(4185),n(3851),n(875),n(9432),n(287),n(6099),n(825),n(888),n(8781),n(9449),n(7764),n(1392),n(2953);var o=n(1831),i=n(4640),r=n(7123),u=n(5299),a=n(6058),c=n(1121),l=n(6032);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,f(o.key),o)}}function f(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}function h(e,t,n){return t=y(t),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},v.apply(this,arguments)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var b="react-navigation-onresize-listener",g="react-navigation-onhashChanged-listener",w="REACT_NAVIGATION_DEVELOPMENT",x="REACT_NAVIGATION_DEVELOPMENT_PERF",O=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=h(this,t,[e])).id=(0,c.O)(),i.title=(null==e||null===(n=e.props)||void 0===n||null===(n=n.title)||void 0===n?void 0:n.toString())||"",i.defaultItem=(null==e||null===(o=e.props)||void 0===o||null===(o=o.defaultItem)||void 0===o?void 0:o.toString())||"",i.defaultItem.startsWith("/")||(i.defaultItem="/".concat(i.defaultItem)),i.defaultItem.endsWith("/")||(i.defaultItem="".concat(i.defaultItem,"/")),i.items={},i.itemSource={},i.isLoaded=!1,i.inNarrowMode=!1,i.isMobileMode=a.F,i.isNoMatched=!1,i.currentPagHeight=0,i.currentPageWidth=0,i}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.isLoaded=!0,this.currentPagHeight=this.isMobileMode?window.outerHeight:window.innerHeight,this.currentPageWidth=this.isMobileMode?window.outerWidth:window.innerWidth,i.o.listen(b,this._onResize.bind(this)),tianyuShell.core.event.onhashChanged.listen(g,this.onHashChanged.bind(this)),this.onHashChanged(),this.onLoaded()}},{key:"componentWillUnmount",value:function(){this.isLoaded=!1,i.o.removeListen(b),tianyuShell.core.event.onhashChanged.removeListen(g),this.onBeforeUnload()}},{key:"forceUpdate",value:function(e){if(this.isLoaded){var n=null;r.t.isActive(x)&&(n=u.c.start("(React-Navigation)","forceUpdate")),v(y(t.prototype),"forceUpdate",this).call(this,(function(){n&&u.c.end(n),null==e||e()}))}}},{key:"render",value:function(){return this.isMobileMode?this.renderForMobile():(this.inNarrowMode=!this.isLoaded&&this.isNarrow()||this.inNarrowMode,this.inNarrowMode?this.renderForNarrow():this.renderForNormal())}},{key:"setSource",value:function(e,t){var n=this;this.defaultItem=t&&e[t]?t:this.defaultItem,this.itemSource=e,this._updateItems(),this.forceUpdate((function(){n.onHashChanged()}))}},{key:"isNarrow",value:function(){return!1}},{key:"getSelectedItem",value:function(){for(var e=0,t=Object.keys(this.items);e<t.length;e++){var n=t[e],o=this.items[n];if(o.getSelection())return o}return null}},{key:"onHashChanged",value:function(){var e=(0,l.l)(this.items,this.defaultItem,void 0,(function(e){e.setUnselect()}));this.beforeHashChangedRender(),e.value?(e.value.setSelect(),this.isNoMatched=!1,this.forceUpdate()):this.isNoMatched||(this.isNoMatched=!0,this.forceUpdate())}},{key:"_updateItems",value:function(){var e;r.t.isActive(w)&&(null===(e=tianyuShell.core.performance)||void 0===e||e.log.debug("(REACT-NATIVATION) - [".concat(this.title,"] - update items"))),this.updateItems()}},{key:"_onResize",value:function(){var e;this.isSizeChanged()&&(r.t.isActive(w)&&(null===(e=tianyuShell.core.performance)||void 0===e||e.log.debug("(REACT-NATIVATION) - [".concat(this.title,"] - page resized to (").concat(window.innerWidth,", ").concat(window.innerHeight,")"))),this.currentPagHeight=this.isMobileMode?window.outerHeight:window.innerHeight,this.currentPageWidth=this.isMobileMode?window.outerWidth:window.innerWidth,this.onResize(),this.forceUpdate())}},{key:"updateItems",value:function(){}},{key:"onResize",value:function(){}},{key:"onLoaded",value:function(){}},{key:"isSizeChanged",value:function(){return!0}},{key:"onBeforeUnload",value:function(){}},{key:"renderForMobile",value:function(){return React.createElement("div",null)}},{key:"renderForNormal",value:function(){return React.createElement("div",null)}},{key:"renderForNarrow",value:function(){return React.createElement("div",null)}},{key:"beforeHashChangedRender",value:function(){}}])&&d(n.prototype,o),s&&d(n,s),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.m);O.FONT_SIZE_DEFAULT=15,O.FONT_SIZE_MOBILE_DEFAULT=18}}]);
(self.webpackChunkaitianyu_cn=self.webpackChunkaitianyu_cn||[]).push([[236],{4231:function(t,e,r){"use strict";r.d(e,{M:function(){return n}});r(3710),r(4916),r(5306),r(1539),r(9714),r(5781);function n(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))}},5281:function(t,e,r){"use strict";r.d(e,{F:function(){return x}});r(6755),r(6699),r(2023),r(7941),r(4916),r(9070),r(5306),r(2222),r(3843),r(3710),r(2772),r(4812),r(7042),r(1539),r(8309),r(1038),r(8783),r(2526),r(1817),r(2165),r(6992),r(3948),r(9753),r(8304),r(489),r(2419),r(8011);var n=r(1822),o=r(4231),i=r(3413);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var v=function(t){console.log("route path - /".concat(t.hash," is not accessiable"))},g=function(t){console.log("default route - /".concat(t.hash))},b={current:-1,histories:[],historyIds:[]},m={routerMap:new(function(){function t(){d(this,t),this.routeMap={end:g,children:{}},this.routeExp={},this.failRoute=v,this.regexBase=!1,this.forceUpdate=!0,this.currentRoute={hash:"",routeType:"Map",id:"",callback:v}}return y(t,[{key:"forceRegex",value:function(t){this.regexBase=t}},{key:"addPath",value:function(t,e){var r,n=(t.startsWith("/")?t.substring(1):t).split("/"),o=function(t,e){return Object.keys(e.children).includes(t)||(e.children[t]={end:null,children:{}}),e.children[t]},i=this.routeMap,u=f(n);try{for(u.s();!(r=u.n()).done;){var a=r.value;a&&(i=o(a,i))}}catch(t){u.e(t)}finally{u.f()}i.end=e}},{key:"removePath",value:function(t){var e,r,n=(t.startsWith("/")?t.substring(1):t).split("/"),o=null,i=this.routeMap,u="",a=f(n);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(c&&(u=c,o=i,!(i=i.children[c])))break}}catch(t){a.e(t)}finally{a.f()}i&&(Object.keys(i.children).length?i.end=null:null===(r=o)||void 0===r||delete r.children[u])}},{key:"removeRegex",value:function(t){this.routeExp[t]&&delete this.routeExp[t]}},{key:"addRegex",value:function(t,e,r,n){for(var o=0,i=Object.keys(this.routeExp);o<i.length;o++){var u=i[o],a=this.routeExp[u];if(a.regex===e&&a.priority===n)return}this.routeExp[t]={regex:e,end:r,priority:n}}},{key:"route",value:function(t,e){var r;if(this.forceUpdate||t!==this.currentRoute.hash){var n,o=t.split("/"),i=this.routeMap,u=function(t,e){for(var r=null,n=0,o=Object.keys(e.children);n<o.length;n++){var i=o[n];if(t===i||t.startsWith("".concat(i,"?"))){r=e.children[i];break}}return r},a=f(o);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c&&!(i=u(c,i)))break}}catch(t){a.e(t)}finally{a.f()}var s="Map",l=null;null!==(r=i)&&void 0!==r&&r.end&&(l=i.end);var h=null;if(this.regexBase||!l){for(var d=null,p=0,y=Object.keys(this.routeExp);p<y.length;p++){var v=y[p],g=this.routeExp[v];g.regex.test(t)&&(null===d||g.priority>d)&&(h=v,d=g.priority,l=g.end)}null!==d&&(s="Exp")}if(this.forceUpdate||s!==this.currentRoute.routeType||l!==this.currentRoute.callback||("Exp"!==s||h!==this.currentRoute.id)&&"Map"!==s){this.currentRoute.callback=l||this.failRoute,this.currentRoute.hash=t,this.currentRoute.id=h||"",this.currentRoute.routeType=s;var b={hash:t,oldURL:null==e?void 0:e.oldURL};this.currentRoute.callback(b)}}}},{key:"setRouteFail",value:function(t){this.failRoute=t}},{key:"resetRouteFail",value:function(){this.failRoute=v}}]),t}())};function k(t){var e=t.replace("//","/");window.location.hash="#".concat(e)}var w={addRoutePath:function(t,e){m.routerMap.addPath(t,e)},addRouteRegex:function(t,e,r,n){m.routerMap.addRegex(t,e,r,n)},removeRoutePath:function(t){m.routerMap.removePath(t)},removeRouteRegex:function(t){m.routerMap.removeRegex(t)},jump:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=t;n.startsWith("#")&&(n=n.substring(1)),n.startsWith("/")&&(n=n.substring(1));var i=x.getHash();if(i!==n){if(e){var u=r;if(u?b.historyIds.includes(u)&&(u="".concat(u,"_").concat(Date.now())):u=(0,o.M)(),b.current!==b.histories.length-1){for(var a=[],c=[],s=0;s<=b.current;++s)a.push(b.histories[s]),c.push(b.historyIds[s]);b.histories=a,b.historyIds=c}b.histories.push(n),b.historyIds.push(u),b.current=b.histories.length-1}k(n)}},back:function(){b.current>0&&(--b.current,k(b.histories[b.current]))},forward:function(){b.current<b.histories.length-1&&(++b.current,k(b.histories[b.current]))},start:function(){0!==b.current&&(b.current=0,k(b.histories[b.current]))},end:function(){b.histories.length-1!==b.current&&(b.current=b.histories.length-1,k(b.histories[b.current]))},go:function(t){var e="string"==typeof t?b.historyIds.indexOf(t):t;e>=0&&e<b.histories.length&&e!==b.current&&(b.current=e,k(b.histories[b.current]))},move:function(t){var e=b.current+t;e>=0&&e<b.histories.length&&e!==b.current&&(b.current=e,k(b.histories[b.current]))},history:function(){var t,e=[],r=f(b.historyIds);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n)}}catch(t){r.e(t)}finally{r.f()}return e},current:function(){return b.historyIds[b.current]},length:function(){return b.histories.length}},x=(n.Pp,function(){function t(){d(this,t)}return y(t,[{key:"current",value:function(){return(0,i.Wv)()&&t.isValid?w.current():""}},{key:"length",value:function(){return(0,i.Wv)()&&t.isValid?w.length():history.length}}],[{key:"init",value:function(){var e;if(!(0,i.Wv)())throw new n.JB(n.jd);(null!==(e=tianyuShell.core)&&void 0!==e&&e.runtime||(tianyuShell.core.runtime={}),tianyuShell.core.runtime.router&&t.isValid)||(tianyuShell.core.runtime.router=w,tianyuShell.core.event.onhashChanged.listen("tianyushell_router",m.routerMap.route.bind(m.routerMap)),t.isValid=!0);b.current=0,b.histories.push(t.getHash()),b.historyIds.push("tianyu_shell_router_home")}},{key:"forceRegex",value:function(t){m.routerMap.forceRegex(t)}},{key:"setFail",value:function(e){if(!(0,i.Wv)())throw new n.JB(n.jd);if(!t.isValid)throw new n.bu("tianyushell_router");m.routerMap.setRouteFail(e)}},{key:"resetFail",value:function(){if(!(0,i.Wv)())throw new n.JB(n.jd);if(!t.isValid)throw new n.bu("tianyushell_router");m.routerMap.resetRouteFail()}},{key:"addPath",value:function(e,r){if(!(0,i.Wv)())throw new n.JB(n.jd);if(!t.isValid)throw new n.bu("tianyushell_router");w.addRoutePath(e,r)}},{key:"addRegex",value:function(e,r,o,u){if(!(0,i.Wv)())throw new n.JB(n.jd);if(!t.isValid)throw new n.bu("tianyushell_router");w.addRouteRegex(e,r,o,u)}},{key:"getHash",value:function(){return window.location.hash.substring(1)}},{key:"jump",value:function(e,r){if((0,i.Wv)()&&t.isValid)w.jump(e,r);else{var n=e;n.startsWith("#")&&(n=n.substring(1)),n.startsWith("/")&&(n=n.substring(1)),t.getHash()!==n&&(window.location.hash="#".concat(n))}}},{key:"back",value:function(){(0,i.Wv)()&&t.isValid?w.back():history.back()}},{key:"forward",value:function(){(0,i.Wv)()&&t.isValid?w.forward():history.forward()}},{key:"start",value:function(){(0,i.Wv)()&&t.isValid&&w.start()}},{key:"end",value:function(){(0,i.Wv)()&&t.isValid&&w.end()}},{key:"go",value:function(e){(0,i.Wv)()&&t.isValid&&w.go(e)}},{key:"move",value:function(e){(0,i.Wv)()&&t.isValid?w.go(e):history.go(e)}},{key:"getHistory",value:function(){return(0,i.Wv)()&&t.isValid?w.history():[]}}]),t}());x.isValid=!1},5781:function(t,e,r){"use strict";r(1354),r(8269)},9411:function(t,e,r){"use strict";r.d(e,{K:function(){return o}});r(6755),r(7852),r(7941);var n=r(5281);function o(t,e,r,o){for(var i=r||n.F.getHash(),u=i.startsWith("/")?i:"/".concat(i),a=u.endsWith("/")?u:"".concat(u,"/"),c="/"===a?e:a,s={key:"",value:null},l=0,f=Object.keys(t);l<f.length;l++){var h=f[l],d=t[h];if(h.endsWith("/")&&c.startsWith(h)||!h.endsWith("/")&&c.startsWith("".concat(h,"/")))(s.value||s.key.length<h.length)&&(s.key=h,s.value=d);null==o||o(d)}return s}},3973:function(t,e,r){"use strict";r.r(e),r.d(e,{ReactNavigationContent:function(){return p}});r(6755),r(7852),r(4812),r(8304),r(489),r(1539),r(2419),r(8011),r(9070),r(4819),r(5003),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948);var n=r(7294),o=r(9411);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},a.apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d="react-navigation-content-onhashChanged-listener",p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(f,t);var e,r,i,c=l(f);function f(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=c.call(this,t)).isLoaded=!1;var r=(0,o.K)(e.props.router,e.props.default);return e.inFallback=!r.value,e.currentHash=r.key,e.default=e.props.default,e.default.startsWith("/")||(e.default="/".concat(e.default)),e.default.endsWith("/")||(e.default="".concat(e.default,"/")),e.onHashChanged(),e}return e=f,(r=[{key:"componentDidMount",value:function(){this.isLoaded=!0,tianyuShell.core.event.onhashChanged.listen(d,this.onHashChanged.bind(this))}},{key:"componentWillUnmount",value:function(){this.isLoaded=!1,tianyuShell.core.event.onhashChanged.removeListen(d)}},{key:"forceUpdate",value:function(t){this.isLoaded&&a(h(f.prototype),"forceUpdate",this).call(this,t)}},{key:"render",value:function(){return n.createElement("div",{className:"r_n_c_b",style:this.props.style},n.createElement("div",{className:"r_n_c_e"}),n.createElement("div",{className:"r_n_c_c"},this.renderComponent()))}},{key:"renderComponent",value:function(){if(this.inFallback)return this.props.fallback&&n.createElement(this.props.fallback.component,this.props.fallback.paramGenerater())||n.createElement("div",null);var t=this.props.router[this.currentHash];return t?n.createElement(t.component,t.paramGenerater()):this.props.fallback&&n.createElement(this.props.fallback.component,this.props.fallback.paramGenerater())||n.createElement("div",null)}},{key:"onHashChanged",value:function(){var t,e=(0,o.K)(this.props.router,this.default);(this.inFallback!==!e.value||this.inFallback&&(null===(t=this.props.fallback)||void 0===t?void 0:t.forceUpdate)||e.value&&(this.currentHash!==e.key||e.value.forceUpdate))&&(this.inFallback=!e.value,this.currentHash=e.key,this.forceUpdate())}}])&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Component)},4964:function(t,e,r){var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},5032:function(t,e,r){var n=r(2597);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},7850:function(t,e,r){var n=r(111),o=r(4326),i=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},3929:function(t,e,r){var n=r(7850),o=TypeError;t.exports=function(t){if(n(t))throw o("The method doesn't accept regular expressions");return t}},6699:function(t,e,r){"use strict";var n=r(2109),o=r(1318).includes,i=r(7293),u=r(1223);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),u("includes")},3843:function(t,e,r){var n=r(2109),o=r(1702),i=Date,u=o(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return u(new i)}})},5003:function(t,e,r){var n=r(2109),o=r(7293),i=r(5656),u=r(1236).f,a=r(9781),c=o((function(){u(1)}));n({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return u(i(t),e)}})},7941:function(t,e,r){var n=r(2109),o=r(7908),i=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},4819:function(t,e,r){var n=r(2109),o=r(6916),i=r(111),u=r(9670),a=r(5032),c=r(1236),s=r(9518);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,f=arguments.length<3?e:arguments[2];return u(e)===f?e[r]:(n=c.f(e,r))?a(n)?n.value:void 0===n.get?void 0:o(n.get,f):i(l=s(e))?t(l,r,f):void 0}})},7852:function(t,e,r){"use strict";var n,o=r(2109),i=r(1470),u=r(1236).f,a=r(7466),c=r(1340),s=r(3929),l=r(4488),f=r(4964),h=r(1913),d=i("".endsWith),p=i("".slice),y=Math.min,v=f("endsWith");o({target:"String",proto:!0,forced:!!(h||v||(n=u(String.prototype,"endsWith"),!n||n.writable))&&!v},{endsWith:function(t){var e=c(l(this));s(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:y(a(r),n),i=c(t);return d?d(e,i,o):p(e,o-i.length,o)===i}})},2023:function(t,e,r){"use strict";var n=r(2109),o=r(1702),i=r(3929),u=r(4488),a=r(1340),c=r(4964),s=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(a(u(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},6755:function(t,e,r){"use strict";var n,o=r(2109),i=r(1470),u=r(1236).f,a=r(7466),c=r(1340),s=r(3929),l=r(4488),f=r(4964),h=r(1913),d=i("".startsWith),p=i("".slice),y=Math.min,v=f("startsWith");o({target:"String",proto:!0,forced:!!(h||v||(n=u(String.prototype,"startsWith"),!n||n.writable))&&!v},{startsWith:function(t){var e=c(l(this));s(t);var r=a(y(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return d?d(e,n,r):p(e,r,r+n.length)===n}})},2480:function(){}}]);
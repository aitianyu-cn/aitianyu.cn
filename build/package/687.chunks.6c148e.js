(self.webpackChunkaitianyu_cn=self.webpackChunkaitianyu_cn||[]).push([[687],{1121:function(t,e,r){"use strict";r.d(e,{O:function(){return n}});r(3288),r(6099),r(7495),r(8781),r(5440),r(5071);function n(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))}},1329:function(t,e,r){"use strict";r.d(e,{I:function(){return m}});r(2675),r(9463),r(2259),r(5700),r(8706),r(3418),r(4423),r(5276),r(4346),r(3792),r(4782),r(9089),r(9572),r(3288),r(4170),r(2010),r(2892),r(9904),r(4185),r(875),r(9432),r(287),r(6099),r(825),r(7495),r(8781),r(1699),r(7764),r(5440),r(1392),r(2953);var n=r(150),o=r(1121),i=r(2730);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:String(e)}var d=function(t){console.log("route path - /".concat(t.hash," is not accessiable"))},p=function(t){console.log("default route - /".concat(t.hash))},y={current:-1,histories:[],historyIds:[]},v={routerMap:new(function(){function t(){s(this,t),this.routeMap={end:p,children:{}},this.routeExp={},this.failRoute=d,this.regexBase=!1,this.forceUpdate=!0,this.currentRoute={hash:"",routeType:"Map",id:"",callback:d}}return f(t,[{key:"forceRegex",value:function(t){this.regexBase=t}},{key:"addPath",value:function(t,e){var r,n=(t.startsWith("/")?t.substring(1):t).split("/"),o=function(t,e){return Object.keys(e.children).includes(t)||(e.children[t]={end:null,children:{}}),e.children[t]},i=this.routeMap,u=a(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;c&&(i=o(c,i))}}catch(t){u.e(t)}finally{u.f()}i.end=e}},{key:"removePath",value:function(t){var e,r,n=(t.startsWith("/")?t.substring(1):t).split("/"),o=null,i=this.routeMap,u="",c=a(n);try{for(c.s();!(e=c.n()).done;){var s=e.value;if(s&&(u=s,o=i,!(i=i.children[s])))break}}catch(t){c.e(t)}finally{c.f()}i&&(Object.keys(i.children).length?i.end=null:null===(r=o)||void 0===r||delete r.children[u])}},{key:"removeRegex",value:function(t){this.routeExp[t]&&delete this.routeExp[t]}},{key:"addRegex",value:function(t,e,r,n){for(var o=0,i=Object.keys(this.routeExp);o<i.length;o++){var u=i[o],a=this.routeExp[u];if(a.regex===e&&a.priority===n)return}this.routeExp[t]={regex:e,end:r,priority:n}}},{key:"route",value:function(t,e){var r;if(this.forceUpdate||t!==this.currentRoute.hash){var n,o=t.split("/"),i=this.routeMap,u=function(t,e){for(var r=null,n=0,o=Object.keys(e.children);n<o.length;n++){var i=o[n];if(t===i||t.startsWith("".concat(i,"?"))){r=e.children[i];break}}return r},c=a(o);try{for(c.s();!(n=c.n()).done;){var s=n.value;if(s&&!(i=u(s,i)))break}}catch(t){c.e(t)}finally{c.f()}var l="Map",f=null;null!==(r=i)&&void 0!==r&&r.end&&(f=i.end);var h=null;if(this.regexBase||!f){for(var d=null,p=0,y=Object.keys(this.routeExp);p<y.length;p++){var v=y[p],g=this.routeExp[v];g.regex.test(t)&&(null===d||g.priority>d)&&(h=v,d=g.priority,f=g.end)}null!==d&&(l="Exp")}if(this.forceUpdate||l!==this.currentRoute.routeType||f!==this.currentRoute.callback||("Exp"!==l||h!==this.currentRoute.id)&&"Map"!==l){this.currentRoute.callback=f||this.failRoute,this.currentRoute.hash=t,this.currentRoute.id=h||"",this.currentRoute.routeType=l;var b={hash:t,oldURL:null==e?void 0:e.oldURL};this.currentRoute.callback(b)}}}},{key:"setRouteFail",value:function(t){this.failRoute=t}},{key:"resetRouteFail",value:function(){this.failRoute=d}}]),t}())};function g(t){var e=t.replace("//","/");window.location.hash="#".concat(e)}var b={addRoutePath:function(t,e){v.routerMap.addPath(t,e)},addRouteRegex:function(t,e,r,n){v.routerMap.addRegex(t,e,r,n)},removeRoutePath:function(t){v.routerMap.removePath(t)},removeRouteRegex:function(t){v.routerMap.removeRegex(t)},jump:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=t;if(n.startsWith("#")&&(n=n.substring(1)),n.startsWith("/")&&(n=n.substring(1)),m.getHash()!==n){if(e){var i=r;if(i?y.historyIds.includes(i)&&(i="".concat(i,"_").concat(Date.now())):i=(0,o.O)(),y.current!==y.histories.length-1){for(var u=[],a=[],c=0;c<=y.current;++c)u.push(y.histories[c]),a.push(y.historyIds[c]);y.histories=u,y.historyIds=a}y.histories.push(n),y.historyIds.push(i),y.current=y.histories.length-1}g(n)}},back:function(){y.current>0&&(--y.current,g(y.histories[y.current]))},forward:function(){y.current<y.histories.length-1&&(++y.current,g(y.histories[y.current]))},start:function(){0!==y.current&&(y.current=0,g(y.histories[y.current]))},end:function(){y.histories.length-1!==y.current&&(y.current=y.histories.length-1,g(y.histories[y.current]))},go:function(t){var e="string"==typeof t?y.historyIds.indexOf(t):t;e>=0&&e<y.histories.length&&e!==y.current&&(y.current=e,g(y.histories[y.current]))},move:function(t){var e=y.current+t;e>=0&&e<y.histories.length&&e!==y.current&&(y.current=e,g(y.histories[y.current]))},history:function(){var t,e=[],r=a(y.historyIds);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n)}}catch(t){r.e(t)}finally{r.f()}return e},current:function(){return y.historyIds[y.current]},length:function(){return y.histories.length}},m=function(){function t(){s(this,t)}return f(t,[{key:"current",value:function(){return(0,i.qF)()&&t.isValid?b.current():""}},{key:"length",value:function(){return(0,i.qF)()&&t.isValid?b.length():history.length}}],[{key:"init",value:function(){var e;if(!(0,i.qF)())throw new n.U8(n.sK);(null!==(e=tianyuShell.core)&&void 0!==e&&e.runtime||(tianyuShell.core.runtime={}),tianyuShell.core.runtime.router&&t.isValid)||(tianyuShell.core.runtime.router=b,tianyuShell.core.event.onhashChanged.listen("tianyushell_router",v.routerMap.route.bind(v.routerMap)),t.isValid=!0);y.current=0,y.histories.push(t.getHash()),y.historyIds.push("tianyu_shell_router_home")}},{key:"forceRegex",value:function(t){v.routerMap.forceRegex(t)}},{key:"setFail",value:function(e){if(!(0,i.qF)())throw new n.U8(n.sK);if(!t.isValid)throw new n.L5("tianyushell_router");v.routerMap.setRouteFail(e)}},{key:"resetFail",value:function(){if(!(0,i.qF)())throw new n.U8(n.sK);if(!t.isValid)throw new n.L5("tianyushell_router");v.routerMap.resetRouteFail()}},{key:"addPath",value:function(e,r){if(!(0,i.qF)())throw new n.U8(n.sK);if(!t.isValid)throw new n.L5("tianyushell_router");b.addRoutePath(e,r)}},{key:"addRegex",value:function(e,r,o,u){if(!(0,i.qF)())throw new n.U8(n.sK);if(!t.isValid)throw new n.L5("tianyushell_router");b.addRouteRegex(e,r,o,u)}},{key:"getHash",value:function(){return window.location.hash.substring(1)}},{key:"jump",value:function(e,r){if((0,i.qF)()&&t.isValid)b.jump(e,r);else{var n=e;n.startsWith("#")&&(n=n.substring(1)),n.startsWith("/")&&(n=n.substring(1)),t.getHash()!==n&&(window.location.hash="#".concat(n))}}},{key:"back",value:function(){(0,i.qF)()&&t.isValid?b.back():history.back()}},{key:"forward",value:function(){(0,i.qF)()&&t.isValid?b.forward():history.forward()}},{key:"start",value:function(){(0,i.qF)()&&t.isValid&&b.start()}},{key:"end",value:function(){(0,i.qF)()&&t.isValid&&b.end()}},{key:"go",value:function(e){(0,i.qF)()&&t.isValid&&b.go(e)}},{key:"move",value:function(e){(0,i.qF)()&&t.isValid?b.go(e):history.go(e)}},{key:"getHistory",value:function(){return(0,i.qF)()&&t.isValid?b.history():[]}}]),t}();m.isValid=!1},5071:function(t,e,r){"use strict";r(1396),r(754)},6032:function(t,e,r){"use strict";r.d(e,{l:function(){return o}});r(9432),r(9449),r(1392);var n=r(1329);function o(t,e,r,o){for(var i=r||n.I.getHash(),u=i.startsWith("/")?i:"/".concat(i),a=u.endsWith("/")?u:"".concat(u,"/"),c="/"===a?e:a,s={key:"",value:null},l=0,f=Object.keys(t);l<f.length;l++){var h=f[l],d=t[h];if(h.endsWith("/")&&c.startsWith(h)||!h.endsWith("/")&&c.startsWith("".concat(h,"/")))(s.value||s.key.length<h.length)&&(s.key=h,s.value=d);null==o||o(d)}return s}},632:function(t,e,r){"use strict";r.r(e),r.d(e,{ReactNavigationContent:function(){return p}});r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(4170),r(2892),r(9904),r(4185),r(3851),r(875),r(287),r(6099),r(825),r(888),r(9449),r(7764),r(1392),r(2953);var n=r(6540),o=r(6032);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}function c(t,e,r){return e=f(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(this,arguments)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var d="react-navigation-content-onhashChanged-listener",p=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,e,[t])).isLoaded=!1;var n=(0,o.l)(r.props.router,r.props.default);return r.inFallback=!n.value,r.currentHash=n.key,r.default=r.props.default,r.default.startsWith("/")||(r.default="/".concat(r.default)),r.default.endsWith("/")||(r.default="".concat(r.default,"/")),r.onHashChanged(),r}var r,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,(i=[{key:"componentDidMount",value:function(){this.isLoaded=!0,tianyuShell.core.event.onhashChanged.listen(d,this.onHashChanged.bind(this))}},{key:"componentWillUnmount",value:function(){this.isLoaded=!1,tianyuShell.core.event.onhashChanged.removeListen(d)}},{key:"forceUpdate",value:function(t){this.isLoaded&&l(f(e.prototype),"forceUpdate",this).call(this,t)}},{key:"render",value:function(){return n.createElement("div",{className:"r_n_c_b",style:this.props.style},n.createElement("div",{className:"r_n_c_e"}),n.createElement("div",{className:"r_n_c_c"},this.renderComponent()))}},{key:"renderComponent",value:function(){if(this.inFallback)return this.props.fallback&&n.createElement(this.props.fallback.component,this.props.fallback.paramGenerater())||n.createElement("div",null);var t=this.props.router[this.currentHash];return t?n.createElement(t.component,t.paramGenerater()):this.props.fallback&&n.createElement(this.props.fallback.component,this.props.fallback.paramGenerater())||n.createElement("div",null)}},{key:"onHashChanged",value:function(){var t,e=(0,o.l)(this.props.router,this.default);(this.inFallback!==!e.value||this.inFallback&&(null===(t=this.props.fallback)||void 0===t?void 0:t.forceUpdate)||e.value&&(this.currentHash!==e.key||e.value.forceUpdate))&&(this.inFallback=!e.value,this.currentHash=e.key,this.forceUpdate())}}])&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component)},477:function(){},1436:function(t,e,r){"use strict";var n=r(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},6575:function(t,e,r){"use strict";var n=r(9297);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},788:function(t,e,r){"use strict";var n=r(34),o=r(4576),i=r(8227)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===o(t))}},5749:function(t,e,r){"use strict";var n=r(788),o=TypeError;t.exports=function(t){if(n(t))throw new o("The method doesn't accept regular expressions");return t}},4423:function(t,e,r){"use strict";var n=r(6518),o=r(9617).includes,i=r(9039),u=r(6469);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),u("includes")},9089:function(t,e,r){"use strict";var n=r(6518),o=r(9504),i=Date,u=o(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return u(new i)}})},3851:function(t,e,r){"use strict";var n=r(6518),o=r(9039),i=r(5397),u=r(7347).f,a=r(3724);n({target:"Object",stat:!0,forced:!a||o((function(){u(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return u(i(t),e)}})},9432:function(t,e,r){"use strict";var n=r(6518),o=r(8981),i=r(1072);n({target:"Object",stat:!0,forced:r(9039)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},888:function(t,e,r){"use strict";var n=r(6518),o=r(9565),i=r(34),u=r(8551),a=r(6575),c=r(7347),s=r(2787);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,f=arguments.length<3?e:arguments[2];return u(e)===f?e[r]:(n=c.f(e,r))?a(n)?n.value:void 0===n.get?void 0:o(n.get,f):i(l=s(e))?t(l,r,f):void 0}})},9449:function(t,e,r){"use strict";var n,o=r(6518),i=r(7476),u=r(7347).f,a=r(8014),c=r(655),s=r(5749),l=r(7750),f=r(1436),h=r(6395),d=i("".slice),p=Math.min,y=f("endsWith");o({target:"String",proto:!0,forced:!!(h||y||(n=u(String.prototype,"endsWith"),!n||n.writable))&&!y},{endsWith:function(t){var e=c(l(this));s(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:p(a(r),n),i=c(t);return d(e,o-i.length,o)===i}})},1699:function(t,e,r){"use strict";var n=r(6518),o=r(9504),i=r(5749),u=r(7750),a=r(655),c=r(1436),s=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(a(u(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},1392:function(t,e,r){"use strict";var n,o=r(6518),i=r(7476),u=r(7347).f,a=r(8014),c=r(655),s=r(5749),l=r(7750),f=r(1436),h=r(6395),d=i("".slice),p=Math.min,y=f("startsWith");o({target:"String",proto:!0,forced:!!(h||y||(n=u(String.prototype,"startsWith"),!n||n.writable))&&!y},{startsWith:function(t){var e=c(l(this));s(t);var r=a(p(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return d(e,r,r+n.length)===n}})}}]);